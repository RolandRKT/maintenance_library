' Generated by UML Generator
' Encoded: bLZRRjiu47tFL-XHGIxOvw0DQZj9Qo0thDCMtSL2e2N68aoJ0aavrHRTRz_XHJAfg_DYIzGvGyxmp72aJr8XeSeTFP5RmWeaq2vAAP9offGWwrBXPShPYloBepzESfBXA2KYfVZanA2YUx8MI5JHhvCeklW5nXH9VqThphVo2XvAzM4ErzVHnuZXjsWc1AhCw7Ly6Z0eHmmO3wZui8A9sUOycdCX-1iMDVaBahb-xgWNy7FMy3TOwObaVEfFsuRSwraqn9kdcIO0eopJ5cBjoLMaBu6rvoGBK3cI-j5telAbNBEOmCzLP0q37iWK8pP4UI6AubZftmaI11o9nh_ECjPLt-mQ7y1U2SlcrQnKEHSnCdyUV21gHBe0PSTujpPO4paVVUuUOF68TbFE2gnAmJesJkkBxhvRqrt_xNWtaeqCJ2H_rrgk2LRCp5jfexTcBl-fbkCPB4Jx5WVBb6wGXLw7qxeKcXL5AujaYXZ3Ue_iHLVrEqHOZCH6riR__kUWZuEXZCY2eke1ipBkUvuZbb6yo3b9SPoQlzuzQZDcBadwR0gCiXyGwxY27x3b6IHC1T0qn-dsZekRig0aHGhBbdZQAJBWW5PmEqdQcFb1eCEWFmyA70RT-Taq4lKwsrSmNCgUWkBfZs-j17ptzNqG03qGPgyUqM5kGkkqsid2mCvv55evZneRjQ9DMGaK3OEsRBL73u48Xeq4cZq_Kzm-zN21-ozOAXE2_q05PZEJRuWI8xDaLQOfblxk7b2tkqAPAfZCA3NLQX1brZyDimwDuhHpVs71Hq6FU0Dws6CD7WM-kDWaa0exfEG2f8fJHQjnjDQMMJ04giJzqVcCbS929bROpd0Btoc3xRsmetO_T5KRtW-7DAioo46t7LA3blAvN4F-9ml4vlY1P-ILZ55AIe-olIfmIX1TvD3Rf3eAItOKxvwpJI-mNRWFSO9o_xK83I9nmzzOUnB7J1QSIINAL87GZDjBk4TC4IY2dPMvQZkT43NmeQIA5BhcGKsS0ZV5zv14iXcR97avDSoglMvQIpaJ-5cGFM2Jhn8xbVRlY9bljaU4ehLrQLn_5a_rCLJL7OpJlxn3LE8HsYDdjp_XC87qClT7qeweGI5sxZL5Gvp3MPJKRemvxy4VkMexhfDcP547mTXroV4GrtFfwqK5dTKGt1wL9Z9zSMqTj6tAm6xq-U9Ff0DSA-uT57C5kMZ69nO6vip5SUR33AirHOHK3qYbUPkvR1flvujkMaUbw37QI-l5-nqCk2pn2ZD9z5cLp76EzYHeRBgKJcM5tOMBNcy2uZEySWBH09FlN6pbADouxquxvuyP6YNf2BZBCSwNrkjO8r1xvwWleiIJJ4-d0Ratzbqsh7UQLXTUZRPjG0uRBcz_fhXGXBEHQOBqyxKnuLmx1oTbzTczPzUW6_ogTRN72rvKySZhJtEGNd11DeGXkggamhibTB1BLfGAD83HBleOsV5BmhhWfr9THN2ei0wQbwOtXh_653JYbSBcgyIJDrotqEy-qC69fDwYWLhOWroolJxIwrPv0XsKaH5ytzlG8CPqaNNrS6ygmpJlo9ZsCZXNrHqlMNOSkdLuZv2yGszwFVqdv0WXA2jJwuSiKIEFtLO_zIQhX_CQm_T8edarEyOLVylxJhgUYPuOjQzFlJM-X_38kzqWP7xzrP1VNDZFLE60-sxZVHYvlBosm4-OPUME_Wy
' URL: http://www.plantuml.com/plantuml/uml/bLZRRjiu47tFL-XHGIxOvw0DQZj9Qo0thDCMtSL2e2N68aoJ0aavrHRTRz_XHJAfg_DYIzGvGyxmp72aJr8XeSeTFP5RmWeaq2vAAP9offGWwrBXPShPYloBepzESfBXA2KYfVZanA2YUx8MI5JHhvCeklW5nXH9VqThphVo2XvAzM4ErzVHnuZXjsWc1AhCw7Ly6Z0eHmmO3wZui8A9sUOycdCX-1iMDVaBahb-xgWNy7FMy3TOwObaVEfFsuRSwraqn9kdcIO0eopJ5cBjoLMaBu6rvoGBK3cI-j5telAbNBEOmCzLP0q37iWK8pP4UI6AubZftmaI11o9nh_ECjPLt-mQ7y1U2SlcrQnKEHSnCdyUV21gHBe0PSTujpPO4paVVUuUOF68TbFE2gnAmJesJkkBxhvRqrt_xNWtaeqCJ2H_rrgk2LRCp5jfexTcBl-fbkCPB4Jx5WVBb6wGXLw7qxeKcXL5AujaYXZ3Ue_iHLVrEqHOZCH6riR__kUWZuEXZCY2eke1ipBkUvuZbb6yo3b9SPoQlzuzQZDcBadwR0gCiXyGwxY27x3b6IHC1T0qn-dsZekRig0aHGhBbdZQAJBWW5PmEqdQcFb1eCEWFmyA70RT-Taq4lKwsrSmNCgUWkBfZs-j17ptzNqG03qGPgyUqM5kGkkqsid2mCvv55evZneRjQ9DMGaK3OEsRBL73u48Xeq4cZq_Kzm-zN21-ozOAXE2_q05PZEJRuWI8xDaLQOfblxk7b2tkqAPAfZCA3NLQX1brZyDimwDuhHpVs71Hq6FU0Dws6CD7WM-kDWaa0exfEG2f8fJHQjnjDQMMJ04giJzqVcCbS929bROpd0Btoc3xRsmetO_T5KRtW-7DAioo46t7LA3blAvN4F-9ml4vlY1P-ILZ55AIe-olIfmIX1TvD3Rf3eAItOKxvwpJI-mNRWFSO9o_xK83I9nmzzOUnB7J1QSIINAL87GZDjBk4TC4IY2dPMvQZkT43NmeQIA5BhcGKsS0ZV5zv14iXcR97avDSoglMvQIpaJ-5cGFM2Jhn8xbVRlY9bljaU4ehLrQLn_5a_rCLJL7OpJlxn3LE8HsYDdjp_XC87qClT7qeweGI5sxZL5Gvp3MPJKRemvxy4VkMexhfDcP547mTXroV4GrtFfwqK5dTKGt1wL9Z9zSMqTj6tAm6xq-U9Ff0DSA-uT57C5kMZ69nO6vip5SUR33AirHOHK3qYbUPkvR1flvujkMaUbw37QI-l5-nqCk2pn2ZD9z5cLp76EzYHeRBgKJcM5tOMBNcy2uZEySWBH09FlN6pbADouxquxvuyP6YNf2BZBCSwNrkjO8r1xvwWleiIJJ4-d0Ratzbqsh7UQLXTUZRPjG0uRBcz_fhXGXBEHQOBqyxKnuLmx1oTbzTczPzUW6_ogTRN72rvKySZhJtEGNd11DeGXkggamhibTB1BLfGAD83HBleOsV5BmhhWfr9THN2ei0wQbwOtXh_653JYbSBcgyIJDrotqEy-qC69fDwYWLhOWroolJxIwrPv0XsKaH5ytzlG8CPqaNNrS6ygmpJlo9ZsCZXNrHqlMNOSkdLuZv2yGszwFVqdv0WXA2jJwuSiKIEFtLO_zIQhX_CQm_T8edarEyOLVylxJhgUYPuOjQzFlJM-X_38kzqWP7xzrP1VNDZFLE60-sxZVHYvlBosm4-OPUME_Wy
' Generated on: 2026-01-30T10:35:46.886567841

@startuml
skinparam classAttributeIconSize 0
hide circle

class Library {
  -{static} books: List<Book> = new ArrayList<>()
  -{static} loans: Map<String, Borrower> = new HashMap<>()
  --
  +{static} getBooks(): List<Book>
  +{static} getLoans(): Map<String,Borrower>
  +{static} addBook(book: Book): void
  +{static} hasBookWithIsbn(isbn: String): boolean
  +{static} hasBookWithTitle(title: String): boolean
  +{static} clearBooks(): void
  +{static} byIsbn(isbn: String): Book
  +{static} findByAuthor(author: String): List<Book>
  +{static} isBorrowed(isbn: String): boolean
  +{static} borrowBook(isbn: String, borrowerName: String): boolean
  +{static} returnBook(isbn: String): String
  +{static} getBorrower(isbn: String): Borrower
  +{static} clearLoans(): void
}

class Borrower {
  -name: String
  --
  +Borrower(name: String)
  +getName(): String
  +setName(name: String): void
}

class LibraryApp {
  -{static} scanner: Scanner
  --
  +{static} main(args: String[]): void
  -{static} displayMenu(): void
  -{static} handleChoice(choice: String): boolean
  -{static} handleAddBook(): void
  -{static} readYear(yearStr: String): int
  -{static} checkForDuplicates(isbn: String, title: String): void
  -{static} handleListBooks(): void
  -{static} handleBorrowBook(): void
  -{static} handleReturnBook(): void
  -{static} handleFindByAuthor(): void
  -{static} displayBookWithStatus(book: Book): void
}

class Book {
  -isbn: String
  -title: String
  -author: String
  -year: int
  --
  +Book(isbn: String, title: String, author: String, year: int)
  +getIsbn(): String
  +getTitle(): String
  +getAuthor(): String
  +getYear(): int
  +toString(): String
}

class BookTest {
  ~testBook_ValidBook_Success(): void
  ~testBook_EmptyIsbn_Allowed(): void
  ~testBook_EmptyTitle_Allowed(): void
  ~testBook_EmptyAuthor_Allowed(): void
  ~testBook_YearZero_Allowed(): void
  ~testBook_NegativeYear_Allowed(): void
  ~testBook_ToString_FormatsCorrectly(): void
  ~testBook_ToString_WithEmptyValues(): void
  ~testBook_Getters_ReturnCorrectValues(): void
}

class BorrowerTest {
  ~testBorrower_ValidName_Success(): void
  ~testBorrower_EmptyName_Allowed(): void
  ~testBorrower_NameIsPublic_CanBeModified(): void
  ~testBorrower_NullName_Allowed(): void
  ~testBorrower_SpecialCharactersInName_Allowed(): void
  ~testBorrower_LongName_Allowed(): void
}

class LibraryTest {
  ~setUp(): void
  ~tearDown(): void
  ~testLibrary_Constructor_CanBeInstantiated(): void
  ~testAddBook_ValidBook_Success(): void
  ~testAddBook_MultipleBooks_Success(): void
  ~testAddBook_DuplicateIsbn_AllowsDuplicate(): void
  ~testAddBook_DuplicateTitle_AllowsDuplicate(): void
  ~testLibrary_AttributesArePrivate_UseGetters(): void
  ~testBorrowBook_AvailableBook_Success(): void
  ~testBorrowBook_AlreadyBorrowed_ReturnsFalse(): void
  ~testBorrowBook_NonExistingBook_ReturnsFalse(): void
  ~testBorrowBook_EmptyIsbn_Allowed(): void
  ~testBorrowBook_EmptyBorrowerName_Allowed(): void
  ~testReturnBook_BorrowedBook_Success(): void
  ~testReturnBook_NotBorrowed_ReturnsNull(): void
  ~testBorrowBook_MultipleBorrowers_Success(): void
  ~testBorrowReturnBorrowCycle_Success(): void
  ~testFindByIsbn_ExistingBook_ReturnsBook(): void
  ~testFindByIsbn_NonExistingBook_ReturnsNull(): void
  ~testFindByIsbn_EmptyLibrary_ReturnsNull(): void
  ~testFindByIsbn_EmptyIsbn_CanFindBook(): void
  ~testFindByIsbn_NullIsbn_ReturnsNull(): void
  ~testFindByIsbn_DuplicateIsbn_ReturnsFirstMatch(): void
  ~testIsBorrowed_EmptyLoans_ReturnsFalse(): void
  ~testIsBorrowed_NullIsbn_ReturnsFalse(): void
  ~testFindByAuthor_CaseSensitive_Behavior(): void
  ~testFindByAuthor_SpecialCharacters_ExactMatch(): void
  ~testFindByAuthor_PartialMatch_Works(): void
  ~testFindByAuthor_EmptyString_ReturnsEmpty(): void
  ~testFindByAuthor_NullAuthor_ReturnsEmpty(): void
  ~testHasBookWithTitle_ExistingTitle_ReturnsTrue(): void
  ~testHasBookWithTitle_NonExistingTitle_ReturnsFalse(): void
  ~testHasBookWithTitle_NullTitle_ReturnsFalse(): void
  ~testAddBook_NullBook_ThrowsException(): void
  ~testHasBookWithIsbn_ExistingIsbn_ReturnsTrue(): void
  ~testHasBookWithIsbn_NonExistingIsbn_ReturnsFalse(): void
  ~testGetLoans_ReturnsDefensiveCopy(): void
}

class LibraryAppTest {
  -originalSystemIn: InputStream = System.in
  -originalSystemOut: PrintStream = System.out
  -outputStream: ByteArrayOutputStream
  --
  ~setUp(): void
  ~tearDown(): void
  ~testLibraryApp_AddBook_Success(): void
  ~testLibraryApp_AddBook_InvalidYear(): void
  ~testLibraryApp_AddBook_DuplicateIsbn(): void
  ~testLibraryApp_ListBooks(): void
  ~testLibraryApp_ListBooks_WithBorrowedStatus(): void
  ~testLibraryApp_BorrowBook_Success(): void
  ~testLibraryApp_BorrowBook_NotFound(): void
  ~testLibraryApp_BorrowBook_AlreadyBorrowed(): void
  ~testLibraryApp_ReturnBook_Success(): void
  ~testLibraryApp_ReturnBook_NotBorrowed(): void
  ~testLibraryApp_FindByAuthor_Found(): void
  ~testLibraryApp_Exit(): void
  ~testLibraryApp_InvalidOption(): void
  ~testLibraryApp_Constructor(): void
  ~testLibraryApp_AddBook_DuplicateTitle(): void
  ~testLibraryApp_FindByAuthor_WithBorrowedBook(): void
  ~testLibraryApp_AddBook_OnlyTitleMatch(): void
  ~testLibraryApp_AddBook_NoDuplicate(): void
}

Library o-- Book
Library o-- Borrower
LibraryApp ..> Book
@enduml